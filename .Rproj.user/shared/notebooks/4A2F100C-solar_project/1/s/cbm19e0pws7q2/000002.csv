"0","# Crop buildings o raster to speed up zonal stats & calculate the mean of pixels that intersect individual buildings"
"0","build_crop_mean <- function(rst, ply){"
"0","	# Crop buildings first and then return a df with mean values "
"0","	cropped <- rst$crop(ply); rst$extract(ply, fun=mean, df=TRUE)"
"0","}"
"0",""
"0","# Crop buildings to raster to speed up zonal stats & then calculate the sum of pixels that intersect individual buildings"
"0","build_crop_sum <- function(rst, ply){"
"0","	# Crop buildings first and then return a df with extracted values by the sum"
"0","	cropped <- rst$crop(ply); rst$extract(ply, fun=sum, df=TRUE)"
"0","}"
"0",""
"0","# Crop buildings to raster to speed up zonal stats and calculate the sum of PISR cells that overlap buildings - since we are dealing with 1m spatial resolution length=1 = area 1m2"
"0","high_irrid_area <- function(rst, ply){"
"0","	# Crop buildings first and then return a df with extracted values by the sum"
"0","	q <- rst$crop(ply); rst$extract(ply, fun=function(x) length(unique(x)), df=TRUE)"
"0","}"
